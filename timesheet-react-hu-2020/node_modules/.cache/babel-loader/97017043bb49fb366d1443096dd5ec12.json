{"ast":null,"code":"import _toConsumableArray from\"/home/aman_ahmed/apps/React/timesheet-react-hu-2020/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/aman_ahmed/apps/React/timesheet-react-hu-2020/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * @author: Tejas Upmanyu (@tejasupmanyu)\n * App Component\n */import React from'react';import'./App.scss';import addIcon from\"./assets/plus-icon.svg\";import{NewEntrySheet}from'./components/NewEntrySheet';import{TaskList}from'./components/TaskList';import{storageKey}from'./constants/constants';var App=function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isEntrySheetOpen=_React$useState2[0],setIsEntrySheetOpen=_React$useState2[1];var openEntrySheet=function openEntrySheet(){setIsEntrySheetOpen(true);};var closeEntrySheet=function closeEntrySheet(){setIsEntrySheetOpen(false);};var onAddEntry=function onAddEntry(entry){var existingTasksString=window.localStorage.getItem(storageKey);if(existingTasksString){var existingTasks=JSON.parse(existingTasksString);var newTasks=[].concat(_toConsumableArray(existingTasks),[entry]);window.localStorage.setItem(storageKey,JSON.stringify(newTasks));}else{window.localStorage.setItem(storageKey,JSON.stringify([entry]));}closeEntrySheet();};/*\n    const onDeleteEntry = (entry : IEntry) => {\n        entry : null;\n    }\n    */var getTaskEntries=function getTaskEntries(){/* Use to reset\n        window.localStorage.setItem(storageKey,\"\"); \n        window.localStorage.setItem('hrs','0');\n        window.localStorage.setItem('mins','0');\n        */var entriesString=window.localStorage.getItem(storageKey);var entries=entriesString?JSON.parse(entriesString):[];return entries;};var entries=getTaskEntries();//calculate the time\nvar hrs=window.localStorage.getItem('hrs');var hr=hrs?JSON.parse(hrs):[];hr=hr*1;var mins=window.localStorage.getItem('mins');var min=mins?JSON.parse(mins):[];min=min*1;//added this to display min\nvar time;time=hr*60+min;time=time/(8*60)*100;//console.log(\"HI\"+{time});\nreturn React.createElement(\"div\",{className:\"app-container\"},React.createElement(\"div\",{className:\"outbar\"},time<50?React.createElement(\"div\",{className:\"red-bar\",style:{width:time+'%'}},\"\\xA0\"):time<100?React.createElement(\"div\",{className:\"orange-bar\",style:{width:time+'%'}},\"\\xA0\"):React.createElement(\"div\",{className:\"green-bar\",style:{width:time+'%'}},\"\\xA0\")),React.createElement(\"h1\",null,\"Timesheet\"),entries.length>0?React.createElement(TaskList,{entries:entries,onRemove:entries}):React.createElement(\"p\",{className:\"empty-text\"},\"No entries yet. Add a new entry by clicking the + button.\"),React.createElement(\"button\",{className:\"floating-add-entry-btn\",onClick:openEntrySheet},React.createElement(\"img\",{className:\"add-icon\",src:addIcon,alt:\"add entry\"})),isEntrySheetOpen&&React.createElement(NewEntrySheet,{onClose:closeEntrySheet,onAdd:onAddEntry}));};export default App;","map":{"version":3,"sources":["/home/aman_ahmed/apps/React/timesheet-react-hu-2020/src/App.tsx"],"names":["React","NewEntrySheet","TaskList","storageKey","App","useState","isEntrySheetOpen","setIsEntrySheetOpen","openEntrySheet","closeEntrySheet","onAddEntry","entry","existingTasksString","window","localStorage","getItem","existingTasks","JSON","parse","newTasks","setItem","stringify","getTaskEntries","entriesString","entries","hrs","hr","mins","min","time","width","length","addIcon"],"mappings":"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","sourcesContent":["/**\n * @author: Tejas Upmanyu (@tejasupmanyu)\n * App Component\n */\nimport React from 'react';\nimport './App.scss';\nimport addIcon from './assets/plus-icon.svg';\nimport { NewEntrySheet, IEntry } from './components/NewEntrySheet';\nimport { TaskList } from './components/TaskList';\nimport { storageKey } from './constants/constants';\n\nconst App: React.FC = () => {\n    const [isEntrySheetOpen, setIsEntrySheetOpen] = React.useState(false);\n\n    const openEntrySheet = () => {\n        setIsEntrySheetOpen(true);\n    };\n\n    const closeEntrySheet = () => {\n        setIsEntrySheetOpen(false);\n    };\n\n    const onAddEntry = (entry: IEntry) => {\n        const existingTasksString = window.localStorage.getItem(storageKey);\n        if (existingTasksString) {\n            const existingTasks = JSON.parse(existingTasksString);\n            const newTasks = [...existingTasks, entry];\n            window.localStorage.setItem(storageKey, JSON.stringify(newTasks));\n        } else {\n            window.localStorage.setItem(storageKey, JSON.stringify([entry]));\n        }\n        closeEntrySheet();\n    };\n    /*\n    const onDeleteEntry = (entry : IEntry) => {\n        entry : null;\n    }\n    */\n    const getTaskEntries = () => {\n        /* Use to reset\n        window.localStorage.setItem(storageKey,\"\"); \n        window.localStorage.setItem('hrs','0');\n        window.localStorage.setItem('mins','0');\n        */\n        const entriesString = window.localStorage.getItem(storageKey);\n        const entries = entriesString ? JSON.parse(entriesString) : [];\n        return entries;\n    };\n\n    const entries = getTaskEntries();\n    \n    //calculate the time\n    let hrs = window.localStorage.getItem('hrs');\n    let hr = hrs ? JSON.parse(hrs) : [];\n    hr = hr * 1;\n    let mins = window.localStorage.getItem('mins');\n    let min = mins ? JSON.parse(mins) : [];\n    min = min * 1;//added this to display min\n    let time : number;\n    time = hr * 60 + min;\n    time = (time/(8*60)) * 100;\n    //console.log(\"HI\"+{time});\n\n    return (\n        <div className=\"app-container\">\n\n            <div className=\"outbar\">\n                {   \n                    time < 50  ? <div className=\"red-bar\" style={{width:time+'%'}}>&nbsp;</div> : \n                    (time < 100 ? <div className=\"orange-bar\" style={{width:time+'%'}}>&nbsp;</div> :\n                    <div className=\"green-bar\" style={{width:time+'%'}}>&nbsp;</div>) \n                    \n                } \n                    {/* ; */}  \n            </div>\n            {/*<h4>{time} {hr} {min}</h4>*/}\n            <h1>Timesheet</h1>\n            {entries.length > 0 ? (\n                <TaskList entries={entries} onRemove={entries}/> \n            ) : (\n                <p className=\"empty-text\">No entries yet. Add a new entry by clicking the + button.</p>\n            )}\n            <button className=\"floating-add-entry-btn\" onClick={openEntrySheet}>\n                <img className=\"add-icon\" src={addIcon} alt=\"add entry\" />\n            </button>\n            {isEntrySheetOpen && <NewEntrySheet onClose={closeEntrySheet} onAdd={onAddEntry} />}\n        </div>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}